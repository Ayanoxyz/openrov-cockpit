<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!-- The following viewport code is intended to fullscreen the cockpit and prevent scrolling -->
    <meta id="Viewport" name="viewport" width="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <script type='text/javascript' src="bower_components/jquery/dist/jquery.min.js"></script>
    <script type='text/javascript' src="bower_components/jquery-ui//jquery-ui.min.js"></script>

    <title>TEST</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/bootstrap-responsive.css" rel="stylesheet">
        <link href="css/ui-lightness/jquery-ui-1.8.23.custom.css" rel="stylesheet" />
    <% for(var i=0; i<styles.length; i++) {%>
    <link rel="stylesheet" href="<%= styles[i] %>"><% } %>
    <script type="text/javascript" src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="bower_components/polymer/polymer.html">

  <% for(var i=0; i<sysscripts.length; i++) {%>
  <script type="text/javascript" src="<%= sysscripts[i] %>"></script><% } %>

  <!--
  <% for(var i=0; i<scripts.length; i++) {%>
  <script type="text/javascript" src="<%= scripts[i] %>"></script><% } %>
-->
  <script type="text/javascript" src="js/no-scroll-fullscreen-viewport.js"></script>
  </head>
  <body>

<!-- The template serves as the model for databinding, javascript is
     interecpting all of the socket.io inbound messages and placing
     them in the template model for one-way data binding.
-->
  <template id="t" is="dom-bind">
  <!--link rel="import" href="bower_components/mjpeg-video-webcomponents/mjpeg-video.html"-->
  <link rel="import" href="plugin/camera-tilt/webcomponents/servo-tilt.html">
  <link rel="import" href="plugin/lights/webcomponents/brightness-indicator.html">
  <link rel="import" href="plugin/lasers/webcomponents/orov-lasers.html">
  <link rel="import" href="plugin/thrusters2x1/webcomponents/orov-thrusters2x1-motortest.html">
  <!-- Dependency for thrusters-testmotor -->
      <link rel="import" href="bower_components/paper-slider/paper-slider.html">

  <!--link rel="import" href="plugin/motor_diags/webcomponents/orov-thruster2x1-settings.html"-->
  <link rel="import" href="plugin/settings-manager/webcomponents/orov-settings-manager.html"-->
<!-- define the overall page layout with named sections. -->
      <div id="header">
        <div class="navbar-inner">
          <a class="brand" href="#">
            <img src="../../themes/OpenROV/img/openrov.png" class="logo"/>
            <span class="navbar-title">Cockpit</span>
          </a>
        </div>
      </div>


      <!-- Main ROW -->
      <div id="main-row">
        <div id="system-panel">
          <servo-tilt servo-angle={{plugin_cameraTilt_angle}}></servo-tilt>
          <brightness-indicator brightness-percent={{plugin_lights_level}}></brightness-indicator>
          <orov-lasers event-emitter={{cockpit-event-emitter}}></orov-lasers>
        </div>
        <div id="nav-display"></div>
        <div id="primary-flight-display"></div>
        <div id="standy-flight-display"></div>
        <div id="warning-display"></div>
        <div id="systems-display"></div>
        <div id="flight-control-state"></div>
        <div id="multipurpose-display">
          <orov-thrusters2x1-motortest  event-emitter={{cockpit-event-emitter}}></orov-thrusters2x1-motortest>
          <orov-settings-manager event-emitter={{cockpit-event-emitter}}></orov-settings-manager>
        </div>

        <div id="flight-control-unit"></div>
        <div id="data-control-unit"></div>
        <div id="camera-display">
          <!--mjpeg-video id="camera1" src='<%= config.video_url %>'  border='1' style='width: 100%; height:100%' menuState='on'></mjpeg-video>
          <rov-horizon id="horizon"></rov-horizon-->
        </div>
      </div>
      <script>

      </script>
 </template>

 <!--script>
   document.addEventListener('WebComponentsReady', function() {
      console.log('WebComponentsReady');
      var container = document.querySelector('rov-lasers');
        // var container = document.querySelector('say-hello');
        container.addEventListener('toggle-lasers', function() {
          cockpit.emit("plugin.laser.toggle");
        });


   });

 </script-->

 <script type="text/javascript" src="js/libs/eventemitter2.js"></script>
 <script type='text/javascript' src="socket.io/socket.io.js"></script>

  <script type='text/javascript' src='js/message-manager.js'></script>
 <script type="text/javascript" src="js/cockpit.js"></script>
 <script type="text/javascript" src="js/app.js"></script>

<script type="text/javascript" src="js/utilities.js"></script>

<!-- I am loading these manually.. but they should be populated through the
     plugin manager -->
 <script type="text/javascript" src="plugin/theme_r2/js/theme_r2_index.js"></script>
 <script type="text/javascript" src="plugin/lasers/js/laser.js"></script>
 <script type="text/javascript" src="plugin/settings-manager/js/settings-manager.js"></script>
 <script type="text/javascript" src="plugin/thrusters2x1/js/thrusters2x1.js"></script>


</body>
</html>
